var ge=Object.defineProperty,ke=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var X=(n,e,t)=>e in n?ge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||(e={}))be.call(e,t)&&X(n,t,e[t]);if(ne)for(var t of ne(e))ye.call(e,t)&&X(n,t,e[t]);return n},G=(n,e)=>ke(n,xe(e));var U=(n,e,t)=>(X(n,typeof e!="symbol"?e+"":e,t),t);import{c as $e,s as we,p as Ce,u as Me,t as se,a as oe,r as F,b as $,w as B,d as q,e as w,f as i,o as u,g as m,h as a,n as M,i as b,j as N,F as V,k as L,l as le,m as Ie,C as Te,q as Ne,v as Se,x as W,y as C,z as H,A as O,B as re,D as Ve,E as y,G as ze,H as Fe,I as Le,J as Ee,M as Pe,P as ie,K as I,S as Re,L as ae,N as ce,O as je,Q as Be,R as ue,T as Oe,U as de,V as Ae,W as De,X as Ge,Y as K,Z as Ue,_ as We,$ as He}from"./vendor.a1a43daa.js";const Ke=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};Ke();class Ye{constructor(){U(this,"filesMap",new Map);U(this,"idMap",new Map);U(this,"taskFileMap",new WeakMap)}getFiles(e){return e?e.map(t=>this.filesMap.get(t)):Array.from(this.filesMap.values())}getFilepaths(){return Array.from(this.filesMap.keys())}getFailedFilepaths(){return this.getFiles().filter(e=>{var t;return((t=e.result)==null?void 0:t.state)==="fail"}).map(e=>e.filepath)}collectFiles(e=[]){e.forEach(t=>{this.filesMap.set(t.filepath,t),this.updateId(t)})}updateId(e){this.idMap.get(e.id)!==e&&(this.idMap.set(e.id,e),e.type==="suite"&&e.tasks.forEach(t=>{this.updateId(t)}))}updateTasks(e){for(const[t,l]of e)this.idMap.has(t)&&(this.idMap.get(t).result=l)}updateUserLog(e){const t=e.taskId&&this.idMap.get(e.taskId);t&&(t.logs||(t.logs=[]),t.logs.push(e))}}function Xe(n){return n=n||[],Array.isArray(n)?n:[n]}function J(n=[]){return Xe(n).flatMap(e=>e.type==="test"?[e]:[e,...J(e.tasks)])}function qe(n){const e=[n.name];let t=n;for(;(t==null?void 0:t.suite)||(t==null?void 0:t.file);)t=t.suite||t.file,(t==null?void 0:t.name)&&e.unshift(t.name);return e}function Je(n,e={}){const{handlers:t={},autoReconnect:l=!0,reconnectInterval:s=2e3,reconnectTries:r=10,reactive:o=_=>_,WebSocketConstructor:d=globalThis.WebSocket}=e;let f=r;const p=o({ws:new d(n),state:new Ye,waitForConnection:z,reconnect:c});p.state.filesMap=o(p.state.filesMap),p.state.idMap=o(p.state.idMap);let h;p.rpc=$e({onCollected(_){var k;p.state.collectFiles(_),(k=t.onCollected)==null||k.call(t,_)},onTaskUpdate(_){var k;p.state.updateTasks(_),(k=t.onTaskUpdate)==null||k.call(t,_)},onUserConsoleLog(_){p.state.updateUserLog(_)}},{post:_=>p.ws.send(_),on:_=>h=_,serialize:we,deserialize:Ce});let v;function c(_=!1){_&&(f=r),p.ws=new WebSocket(n),x()}function x(){v=new Promise(_=>{p.ws.addEventListener("open",()=>{f=r,_()})}),p.ws.addEventListener("message",_=>{h(_.data)}),p.ws.addEventListener("close",()=>{f-=1,l&&f>0&&setTimeout(c,s)})}x();function z(){return v}return p}const pe=Me("hash-params",{initialValue:{file:"",view:null}}),E=se(pe,"file"),P=se(pe,"view"),Qe=location.port,Ze=[location.hostname,Qe].filter(Boolean).join(":"),et=`${location.protocol==="https:"?"wss:":"ws:"}//${Ze}/__vitest_api__`,S=Je(et,{reactive:q}),Q=oe({}),R=F("CONNECTING"),fe=$(()=>S.state.getFiles()),T=$(()=>fe.value.find(n=>n.id===E.value)),Z=$(()=>J(T.value).map(n=>(n==null?void 0:n.logs)||[]).flat()||[]),tt=$(()=>R.value==="OPEN"),ee=$(()=>R.value==="CONNECTING");$(()=>R.value==="CLOSED");function nt(){return me(S.state.getFiles())}function me(n){return n.forEach(e=>{delete e.result,J(e).forEach(t=>delete t.result)}),S.rpc.rerun(n.map(e=>e.filepath))}function st(){if(T.value)return me([T.value])}B(()=>S.ws,n=>{R.value="CONNECTING",n.addEventListener("open",()=>{R.value="OPEN",S.state.filesMap.clear(),S.rpc.getFiles().then(e=>S.state.collectFiles(e)),S.rpc.getConfig().then(e=>Q.value=e)}),n.addEventListener("close",()=>{setTimeout(()=>{R.value==="CONNECTING"&&(R.value="CLOSED")},1e3)})},{immediate:!0});if(!E.value){const n=B(()=>S.state.getFiles(),e=>{if(E.value){n();return}e.length&&e[0].id&&(E.value=e[0].id,n())},{immediate:!0})}const ot={"text-2xl":""},lt=a("div",{"text-lg":"",op50:""}," Check your terminal or start a new server with `vitest --ui` ",-1),rt=w({setup(n){return(e,t)=>i(tt)?N("",!0):(u(),m("div",{key:0,fixed:"","inset-0":"",p2:"","z-10":"","select-none":"",text:"center sm",bg:"overlay","backdrop-blur-sm":"",onClick:t[0]||(t[0]=l=>i(S).reconnect())},[a("div",{"h-full":"",flex:"~ col gap-2","items-center":"","justify-center":"",class:M(i(ee)?"animate-pulse":"")},[a("div",{text:"5xl",class:M(i(ee)?"i-carbon:renew animate-spin animate-reverse":"i-carbon-wifi-off")},null,2),a("div",ot,b(i(ee)?"Connecting...":"Disconnected"),1),lt],2)]))}}),it={"h-full":"",class:"scrolls"},at={bg:"red-500/10",text:"red-500 sm",p:"x3 y2","m-2":"",rounded:""},ct={key:0},ut={key:1,bg:"green-500/10",text:"green-500 sm",p:"x4 y2","m-2":"",rounded:""},dt=w({props:{file:null},setup(n){const e=n,t=$(()=>{var s;return((s=e.file)==null?void 0:s.tasks.filter(r=>{var o;return((o=r.result)==null?void 0:o.state)==="fail"}))||[]});function l(s){return s.startsWith(Q.value.root)?s.slice(Q.value.root.length):s}return(s,r)=>(u(),m("div",it,[i(t).length?(u(!0),m(V,{key:0},L(i(t),o=>{var d;return u(),m("div",{key:o.id},[a("div",at,[le(b(o.name)+" ",1),((d=o.result)==null?void 0:d.error)?(u(),m("div",ct,[a("pre",null,[a("b",null,b(o.result.error.name||o.result.error.nameStr),1),le(": "+b(o.result.error.message),1)]),(u(!0),m(V,null,L(o.result.error.stacks||[],(f,p)=>(u(),m("pre",{key:p,op80:""}," - "+b(l(f.file))+":"+b(f.line)+":"+b(f.column),1))),128))])):N("",!0)])])}),128)):(u(),m("div",ut," All tests passed in this file "))]))}}),pt={key:0,"h-full":"",class:"scrolls",flex:"","flex-col":""},ft={border:"b base","p-4":""},mt=["textContent"],vt=w({setup(n){function e(s){return new Date(s).toLocaleTimeString()}function t(s){return s.trim()}function l(s){const r=s&&S.state.idMap.get(s);return r?qe(r).slice(1).join(" > "):"-"}return(s,r)=>{var o;return((o=i(Z))==null?void 0:o.length)?(u(),m("div",pt,[(u(!0),m(V,null,L(i(Z),d=>(u(),m("div",{key:d.taskId,"font-mono":""},[a("div",ft,[a("div",{"text-xs":"","mb-1":"",class:M(d.type==="stderr"?"text-red-600 dark:text-red-300":"op30")},b(e(d.time))+" | "+b(l(d.taskId))+" | "+b(d.type),3),a("pre",{textContent:b(t(d.content))},null,8,mt)])]))),128))])):N("",!0)}}});function ht(n,e,t={}){const l=Te.fromTextArea(n.value,j({theme:"vars"},t));let s=!1;return l.on("change",()=>{if(s){s=!1;return}e.value=l.getValue()}),B(e,r=>{if(r!==l.getValue()){s=!0;const o=l.listSelections();l.replaceRange(r,l.posFromIndex(0),l.posFromIndex(1/0)),l.setSelections(o)}},{immediate:!0}),Ie(l)}const _t={relative:"","font-mono":"","text-sm":"",class:"scrolls"},ve=w({props:{modelValue:null,mode:null,readOnly:{type:Boolean}},emits:["update:modelValue","save"],setup(n,{expose:e,emit:t}){const l=n,s=Ne(),r={js:"javascript",mjs:"javascript",cjs:"javascript",ts:{name:"javascript",typescript:!0},mts:{name:"javascript",typescript:!0},cts:{name:"javascript",typescript:!0},jsx:{name:"javascript",jsx:!0},tsx:{name:"javascript",typescript:!0,jsx:!0}},o=F(),d=Se(l,"modelValue",t,{passive:!0}),f=oe();return e({cm:f}),W(async()=>{f.value=ht(o,d,G(j(j({},l),s),{mode:r[l.mode||""]||l.mode,extraKeys:{"Cmd-S":function(p){t("save",p.getValue())},"Ctrl-S":function(p){t("save",p.getValue())}}})),f.value.setSize("100%","100%"),setTimeout(()=>f.value.refresh(),100)}),(p,h)=>(u(),m("div",_t,[a("textarea",{ref_key:"el",ref:o},null,512)]))}}),gt=w({props:{file:null},setup(n){const e=n,t=F("");B(()=>e.file,async()=>{var h;if(!e.file||!((h=e.file)==null?void 0:h.filepath)){t.value="";return}t.value=await S.rpc.readFile(e.file.filepath)},{immediate:!0});const l=$(()=>{var h,v;return((v=(h=e.file)==null?void 0:h.filepath)==null?void 0:v.split(/\./g).pop())||"js"}),s=F(),r=$(()=>{var h;return(h=s.value)==null?void 0:h.cm}),o=$(()=>{var h;return((h=e.file)==null?void 0:h.tasks.filter(v=>{var c;return((c=v.result)==null?void 0:c.state)==="fail"}))||[]}),d=[],f=[];async function p(h){await S.rpc.writeFile(e.file.filepath,h)}return B([r,o],()=>{!r.value||setTimeout(()=>{var h;d.forEach(v=>v.clear()),f.forEach(v=>{var c;return(c=r.value)==null?void 0:c.removeLineClass(v,"wrap")}),d.length=0,f.length=0,o.value.forEach(v=>{var z;const c=(z=v.result)==null?void 0:z.error,x=((c==null?void 0:c.stacks)||[]).filter(_=>{var k;return _.file&&_.file===((k=e.file)==null?void 0:k.filepath)});if(x.length){const _=x[0].sourcePos||x[0],k=document.createElement("pre");k.className="c-red-600 dark:c-red-400",k.textContent=`${" ".repeat(_.column)}^ ${c==null?void 0:c.nameStr}: ${c==null?void 0:c.message}`,f.push(r.value.addLineClass(_.line-1,"wrap","bg-red-500/10")),d.push(r.value.addLineWidget(_.line-1,k))}}),(h=r.value)==null||h.clearHistory()},100)},{flush:"post"}),(h,v)=>{const c=ve;return u(),C(c,H({ref_key:"editor",ref:s,modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=x=>t.value=x),"h-full":""},{lineNumbers:!0},{mode:i(l),onSave:p}),null,16,["modelValue","mode"])}}}),kt=w({props:{modelValue:{type:Boolean,default:!1},direction:{default:"bottom"}},emits:["update:modelValue"],setup(n){const e=n,t=$(()=>{switch(e.direction){case"bottom":return"bottom-0 left-0 right-0 border-t";case"top":return"top-0 left-0 right-0 border-b";case"left":return"bottom-0 left-0 top-0 border-r";case"right":return"bottom-0 top-0 right-0 border-l";default:return""}}),l=$(()=>{switch(e.direction){case"bottom":return"translateY(100%)";case"top":return"translateY(-100%)";case"left":return"translateX(-100%)";case"right":return"translateX(100%)";default:return""}});return(s,r)=>(u(),m("div",{class:M(["fixed inset-0 z-40",n.modelValue?"":"pointer-events-none"])},[a("div",{class:M(["bg-base inset-0 absolute transition-opacity duration-500 ease-out",n.modelValue?"opacity-50":"opacity-0"]),onClick:r[0]||(r[0]=o=>s.$emit("update:modelValue",!1))},null,2),a("div",{class:M(["bg-base border-base absolute transition-all duration-200 ease-out",i(t)]),style:re(n.modelValue?{}:{transform:i(l)})},[O(s.$slots,"default")],6)],2))}}),xt={op70:"",rounded:"",hover:"bg-active op100",class:"w-1.4em h-1.4em flex"},A=w({props:{icon:null},setup(n){return(e,t)=>(u(),m("button",xt,[O(e.$slots,"default",{},()=>[a("div",{class:M(n.icon),ma:""},null,2)])]))}}),bt={"w-350":"","max-w-screen":""},yt={"p-4":"",relative:""},$t=a("p",null,"Module Info",-1),wt={op50:"","font-mono":"","text-sm":""},Ct={key:0,"p-5":""},Mt={grid:"~ cols-2","overflow-hidden":""},It=a("div",{p:"x3 y-1","bg-overlay":"",border:"base b t r"}," Source ",-1),Tt=a("div",{p:"x3 y-1","bg-overlay":"",border:"base b t"}," Transformed ",-1),Nt=w({props:{id:null},emits:["close"],setup(n){const e=n,t=Ve(()=>S.rpc.getTransformResult(e.id)),l=$(()=>{var o;return((o=e.id)==null?void 0:o.split(/\./g).pop())||"js"}),s=$(()=>{var o,d;return((d=(o=t.value)==null?void 0:o.source)==null?void 0:d.trim())||""}),r=$(()=>{var o,d;return((d=(o=t.value)==null?void 0:o.code)==null?void 0:d.replace(/\/\/# sourceMappingURL=.*\n/,"").trim())||""});return(o,d)=>{const f=A,p=ve;return u(),m("div",bt,[a("div",yt,[$t,a("p",wt,b(n.id),1),y(f,{absolute:"","top-5px":"","right-5px":"",icon:"i-carbon-close","text-2xl":"",onClick:d[0]||(d[0]=h=>o.$emit("close"))})]),i(t)?(u(),m(V,{key:1},[a("div",Mt,[It,Tt,a("div",null,[y(p,H({"model-value":i(s)},{lineNumbers:!0},{mode:i(l)}),null,16,["model-value","mode"])]),a("div",null,[y(p,H({"model-value":i(r)},{lineNumbers:!0},{mode:i(l)}),null,16,["model-value","mode"])])]),a("pre",null,b(i(t)),1)],64)):(u(),m("div",Ct," No transform result found for this module. "))])}}});const St={"h-full":"","min-h-75":"","flex-1":"",overflow:"hidden"},Vt={flex:"","items-center":"","gap-4":"","px-3":"","py-2":""},zt=["id","checked","onChange"],Ft=["for"],Lt=a("div",{"flex-auto":""},null,-1),Et=w({props:{graph:null},setup(n){const e=n,{graph:t}=ze(e),l=F(),s=F(!1),r=F(),o=F();W(()=>{p()}),Fe(()=>{var v;(v=o.value)==null||v.shutdown()}),B(t,p);function d(v,c){var x;(x=o.value)==null||x.filterNodesByType(c,v)}function f(v){r.value=v,s.value=!0}function p(){var v;(v=o.value)==null||v.shutdown(),!(!t.value||!l.value)&&(o.value=new Le(l.value,t.value,Ee({nodeRadius:10,autoResize:!0,simulation:{alphas:{initialize:1,resize:({newHeight:c,newWidth:x})=>c===0&&x===0?0:.25},forces:{collision:{radiusMultiplier:10},link:{length:240}}},marker:Pe.Arrow(2),modifiers:{node:h},positionInitializer:t.value.nodes.length>1?ie.Randomized:ie.Centered,zoom:{min:.5,max:2}})))}function h(v){const c=k=>k.button===0;let x=0,z=0,_=0;v.on("pointerdown",(k,g)=>{g.type!=="external"&&(!g.x||!g.y||!c(k)||(x=g.x,z=g.y,_=Date.now()))}).on("pointerup",(k,g)=>{if(g.type==="external"||!g.x||!g.y||!c(k)||Date.now()-_>500)return;const D=g.x-x,Y=g.y-z;D**2+Y**2<100&&f(g.id)})}return(v,c)=>{var k;const x=A,z=Nt,_=kt;return u(),m("div",St,[a("div",null,[a("div",Vt,[(u(!0),m(V,null,L((k=o.value)==null?void 0:k.nodeTypes.sort(),g=>{var D;return u(),m("div",{key:g,flex:"~ gap-1","items-center":"","select-none":""},[a("input",{id:`type-${g}`,type:"checkbox",checked:(D=o.value)==null?void 0:D.nodeTypeFilter.includes(g),onChange:Y=>d(g,Y.target.checked)},null,40,zt),a("label",{"font-light":"","text-sm":"","ws-nowrap":"","overflow-hidden":"",capitalize:"",truncate:"",for:`type-${g}`,"border-b-2":"",style:re({"border-color":`var(--color-node-${g})`})},b(g)+" Modules ",13,Ft)])}),128)),Lt,a("div",null,[y(x,{icon:"i-carbon-reset",onclick:p})])])]),a("div",{ref_key:"el",ref:l},null,512),y(_,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=g=>s.value=g),direction:"right"},{default:I(()=>[r.value?(u(),C(Re,{key:0},{default:I(()=>[y(z,{id:r.value,onClose:c[0]||(c[0]=g=>s.value=!1)},null,8,["id"])]),_:1})):N("",!0)]),_:1},8,["modelValue"])])}}}),Pt={key:0,title:"Passed","text-green-500":"","flex-shrink-0":"","i-carbon:checkmark":""},Rt={key:1,title:"Failed","text-red-500":"","flex-shrink-0":"","i-carbon:close":""},jt={key:2,title:"Todo","text-gray-500":"","flex-shrink-0":"","i-carbon:document-blank":""},Bt={key:3,title:"Skipped","text-gray-500":"","flex-shrink-0":"","i-carbon:redo":"","rotate-90":""},Ot={key:4,title:"Running","text-yellow-500":"","flex-shrink-0":"","i-carbon:circle-dash":"","animate-spin":""},te=w({props:{task:null},setup(n){return(e,t)=>{var l,s;return((l=n.task.result)==null?void 0:l.state)==="pass"?(u(),m("div",Pt)):((s=n.task.result)==null?void 0:s.state)==="fail"?(u(),m("div",Rt)):n.task.mode==="todo"?(u(),m("div",jt)):n.task.mode==="skip"?(u(),m("div",Bt)):(u(),m("div",Ot))}}});function At(n){let e=n;return e.includes("/node_modules/")?e=e.split(/\/node_modules\//g).pop().split(/\//g).shift():e=e.split(/\//g).pop(),ce({color:"var(--color-node-external)",label:{color:"var(--color-node-external)",fontSize:"0.875rem",text:e},isFocused:!1,id:n,type:"external"})}function Dt(n,e){return ce({color:e?"var(--color-node-root)":"var(--color-node-inline)",label:{color:e?"var(--color-node-root)":"var(--color-node-inline)",fontSize:"0.875rem",text:n.split(/\//g).pop()},isFocused:!1,id:n,type:"inline"})}function Gt(n,e){var d,f;if(!n)return ae({});const t=(d=n.externalized.map(p=>At(p)))!=null?d:[],l=(f=n.inlined.map(p=>Dt(p,p===e)))!=null?f:[],s=[...t,...l],r=Object.fromEntries(s.map(p=>[p.id,p])),o=Object.entries(n.graph).flatMap(([p,h])=>h.map(v=>{const c=r[p],x=r[v];if(!(c===void 0||x===void 0))return je({source:c,target:x,color:"var(--color-link)",label:!1})}).filter(v=>v!==void 0));return ae({nodes:s,links:o})}const Ut={key:0,flex:"","flex-col":"","h-full":"","max-h-full":"","overflow-hidden":""},Wt={p:"2","h-10":"",flex:"~ gap-2","items-center":"","bg-header":"",border:"b base"},Ht={"flex-1":"","font-light":"","op-50":"","ws-nowrap":"",truncate:"","text-sm":""},Kt={class:"flex text-lg"},Yt={flex:"~","items-center":"","bg-header":"",border:"b base","text-sm":"","h-37px":""},Xt=w({setup(n){const e=q([95,5]);W(()=>{const o=42/window.innerHeight*100;e[0]=100-o,e[1]=o});function t(){var d;const o=(d=T.value)==null?void 0:d.filepath;o&&fetch(`/__open-in-editor?file=${encodeURIComponent(o)}`)}const l=F({externalized:[],graph:{},inlined:[]}),s=F({nodes:[],links:[]});Be(T,async(o,d)=>{o&&o.filepath!==(d==null?void 0:d.filepath)&&(l.value=await S.rpc.getModuleGraph(o.filepath),s.value=Gt(l.value,o.filepath))},{debounce:100});const r=o=>{P.value=o};return(o,d)=>{var z,_,k;const f=te,p=A,h=Et,v=gt,c=vt,x=dt;return i(T)?(u(),m("div",Ut,[a("div",null,[a("div",Wt,[y(f,{task:i(T)},null,8,["task"]),a("div",Ht,b((z=i(T))==null?void 0:z.filepath),1),a("div",Kt,[y(p,{icon:"i-carbon-launch",disabled:!((_=i(T))==null?void 0:_.filepath),onclick:t},null,8,["disabled"])])]),a("div",Yt,[a("button",{"tab-button":"",class:M({"tab-button-active":i(P)==null}),onClick:d[0]||(d[0]=g=>r(null))}," Report ",2),a("button",{"tab-button":"",class:M({"tab-button-active":i(P)==="graph"}),onClick:d[1]||(d[1]=g=>r("graph"))}," Module Graph ",2),a("button",{"tab-button":"",class:M({"tab-button-active":i(P)==="editor"}),onClick:d[2]||(d[2]=g=>r("editor"))}," Code ",2),a("button",{"tab-button":"",class:M({"tab-button-active":i(P)==="console"}),onClick:d[3]||(d[3]=g=>r("console"))}," Console ("+b(((k=i(Z))==null?void 0:k.length)||0)+") ",3)])]),ue(y(h,{graph:s.value},null,8,["graph"]),[[Oe,i(P)==="graph"]]),i(P)==="editor"?(u(),C(v,{key:0,file:i(T)},null,8,["file"])):i(P)==="console"?(u(),C(c,{key:1,file:i(T)},null,8,["file"])):i(P)?N("",!0):(u(),C(x,{key:2,file:i(T)},null,8,["file"]))])):N("",!0)}}});const qt=["open"],Jt=a("div",{"flex-1":"","h-1px":"",border:"base b",op80:""},null,-1),Qt=a("div",{"flex-1":"","h-1px":"",border:"base b",op80:""},null,-1),Zt=w({props:{color:null},setup(n){const e=F(!0);return(t,l)=>(u(),m("div",{open:e.value,class:"details-panel",onToggle:l[0]||(l[0]=s=>e.value=s.target.open)},[a("div",{p:"y1","text-sm":"","items-center":"","gap-2":"",class:M(n.color),"w-full":"",flex:"","select-none":"","cursor-pointer":""},[Jt,O(t.$slots,"summary",{open:e.value}),Qt],2),O(t.$slots,"default")],40,qt))}}),en={key:0,flex:"~ row","items-center":"",p:"x-2 y-1","border-rounded":"","cursor-pointer":"",hover:"bg-active"},tn=["text"],nn={"text-sm":"",truncate:"","font-light":""},sn={key:0,text:"xs",op20:""},on=w({props:{task:null},setup(n){const e=n,t=$(()=>{const{result:l}=e.task;return l&&Math.round(l.duration||0)});return(l,s)=>{var o,d;const r=te;return n.task?(u(),m("div",en,[y(r,{task:n.task,"mr-2":""},null,8,["task"]),a("div",{flex:"","items-end":"","gap-2":"",text:((d=(o=n.task)==null?void 0:o.result)==null?void 0:d.state)==="fail"?"red-500":""},[a("span",nn,b(n.task.name),1),i(t)?(u(),m("span",sn,b(i(t))+"ms ",1)):N("",!0)],8,tn)])):N("",!0)}}}),ln={key:1},rn={inheritAttrs:!1},an=w(G(j({},rn),{props:{task:null,indent:{default:0},nested:{type:Boolean,default:!1},search:null,onItemClick:null},setup(n){return(e,t)=>{const l=on,s=de("TaskTree",!0);return u(),m(V,null,[!n.search||n.task.name.match(n.search)?(u(),C(l,H({key:0},e.$attrs,{task:n.task,style:{paddingLeft:`${n.indent*.75+.5}rem`},onClick:t[0]||(t[0]=r=>n.onItemClick&&n.onItemClick(n.task))}),null,16,["task","style"])):N("",!0),n.nested&&n.task.type==="suite"&&n.task.tasks.length?(u(),m("div",ln,[(u(!0),m(V,null,L(n.task.tasks,r=>(u(),C(s,{key:r.id,task:r,nested:n.nested,indent:n.indent+1,search:n.search,"on-item-click":n.onItemClick},null,8,["task","nested","indent","search","on-item-click"]))),128))])):N("",!0)],64)}}})),cn={h:"full",flex:"~ col"},un={p:"2","h-10":"",flex:"~ gap-2","items-center":"","bg-header":"",border:"b base"},dn={p:"x4 y2",flex:"~ gap-2","items-center":"","bg-header":"",border:"b base"},pn=a("div",{"i-carbon:search":"","flex-shrink-0":""},null,-1),fn=["op"],mn={class:"scrolls","flex-auto":"","py-1":""},vn={"text-red5":""},hn={"text-yellow5":""},_n={"text-green5":""},gn={"text-purple5:50":""},kn={inheritAttrs:!1},he=w(G(j({},kn),{props:{tasks:null,indent:{default:0},nested:{type:Boolean,default:!1},groupByType:{type:Boolean,default:!1},onItemClick:null},setup(n){const e=n,t=F(""),l=$(()=>t.value?e.tasks.filter(f=>f.name.match(t.value)):e.tasks),s=$(()=>l.value.filter(f=>{var p;return((p=f.result)==null?void 0:p.state)==="fail"})),r=$(()=>l.value.filter(f=>{var p;return((p=f.result)==null?void 0:p.state)==="pass"})),o=$(()=>l.value.filter(f=>f.mode==="skip"||f.mode==="todo")),d=$(()=>l.value.filter(f=>!s.value.includes(f)&&!r.value.includes(f)&&!o.value.includes(f)));return(f,p)=>{const h=an,v=Zt;return u(),m("div",cn,[a("div",null,[a("div",un,[O(f.$slots,"header")]),a("div",dn,[pn,ue(a("input",{"onUpdate:modelValue":p[0]||(p[0]=c=>t.value=c),placeholder:"Search...",outline:"none",bg:"transparent",font:"light",text:"sm",op:t.value.length?"100":"50"},null,8,fn),[[Ae,t.value]])])]),a("div",mn,[n.groupByType?(u(),m(V,{key:0},[i(s).length?(u(),C(v,{key:0},{summary:I(()=>[a("div",vn," FAIL ("+b(i(s).length)+") ",1)]),default:I(()=>[(u(!0),m(V,null,L(i(s),c=>(u(),C(h,{key:c.id,task:c,nested:n.nested,search:t.value,indent:1,class:M(i(E)===c.id?"bg-active":""),"on-item-click":n.onItemClick},null,8,["task","nested","search","class","on-item-click"]))),128))]),_:1})):N("",!0),i(d).length?(u(),C(v,{key:1},{summary:I(()=>[a("div",hn," RUNNING ("+b(i(d).length)+") ",1)]),default:I(()=>[(u(!0),m(V,null,L(i(d),c=>(u(),C(h,{key:c.id,task:c,nested:n.nested,search:t.value,indent:1,class:M(i(E)===c.id?"bg-active":""),"on-item-click":n.onItemClick},null,8,["task","nested","search","class","on-item-click"]))),128))]),_:1})):N("",!0),i(r).length?(u(),C(v,{key:2},{summary:I(()=>[a("div",_n," PASS ("+b(i(r).length)+") ",1)]),default:I(()=>[(u(!0),m(V,null,L(i(r),c=>(u(),C(h,{key:c.id,task:c,nested:n.nested,search:t.value,indent:1,class:M(i(E)===c.id?"bg-active":""),"on-item-click":n.onItemClick},null,8,["task","nested","search","class","on-item-click"]))),128))]),_:1})):N("",!0),i(o).length?(u(),C(v,{key:3},{summary:I(()=>[a("div",gn," SKIP ("+b(i(o).length)+") ",1)]),default:I(()=>[(u(!0),m(V,null,L(i(o),c=>(u(),C(h,{key:c.id,task:c,nested:n.nested,search:t.value,indent:1,class:M(i(E)===c.id?"bg-active":""),"on-item-click":n.onItemClick},null,8,["task","nested","search","class","on-item-click"]))),128))]),_:1})):N("",!0)],64)):(u(!0),m(V,{key:1},L(i(l),c=>(u(),C(h,{key:c.id,task:c,nested:n.nested,search:t.value,class:M(i(E)===c.id?"bg-active":""),"on-item-click":n.onItemClick},null,8,["task","nested","search","class","on-item-click"]))),128))])])}}})),xn={key:0,border:"r base"},bn={"font-light":"","text-sm":"","flex-auto":"","ws-nowrap":"","overflow-hidden":"",truncate:""},yn={class:"flex text-lg"},$n=w({setup(n){const e=$(()=>{var t;return(t=T.value)==null?void 0:t.name.split(/\//g).pop()});return(t,l)=>{const s=te,r=A,o=he;return i(T)?(u(),m("div",xn,[y(o,{tasks:i(T).tasks,nested:!0},{header:I(()=>[y(s,{task:i(T)},null,8,["task"]),a("span",bn,b(i(e)),1),a("div",yn,[y(r,{icon:"i-carbon-play",onClick:l[0]||(l[0]=d=>i(st)())})])]),_:1},8,["tasks"])])):N("",!0)}}});var wn="/__vitest__/favicon.svg";const Cn=De(),Mn=Ge(Cn),In=a("img",{"w-6":"","h-6":"","mx-2":"",src:wn},null,-1),Tn=a("span",{"font-light":"","text-sm":"","flex-1":""}," Vitest ",-1),Nn={class:"flex text-lg"},Sn=w({setup(n){function e(t){E.value=t.id}return(t,l)=>{const s=A,r=he;return u(),C(r,{border:"r base",tasks:i(fe),"on-item-click":e,"group-by-type":!0},{header:I(()=>[In,Tn,a("div",Nn,[y(s,{icon:"i-carbon-play",onClick:l[0]||(l[0]=o=>i(nt)())}),y(s,{icon:"dark:i-carbon-moon i-carbon-sun",onClick:l[1]||(l[1]=o=>i(Mn)())})])]),_:1},8,["tasks"])}}}),Vn={"h-screen":"","w-screen":"",overflow:"hidden"},zn=w({setup(n){const e=q([33,33,34]);function t(l){l.forEach((s,r)=>{e[r]=s.size})}return W(()=>{const l=window.innerWidth,r=Math.min(l/3,300)/l*100;e[0]=r,e[1]=r,e[2]=100-r*2}),(l,s)=>{const r=Sn,o=$n,d=Xt,f=rt;return u(),m(V,null,[a("div",Vn,[y(i(K.exports.Splitpanes),{onResize:t},{default:I(()=>[y(i(K.exports.Pane),{size:i(e)[0]},{default:I(()=>[y(r)]),_:1},8,["size"]),y(i(K.exports.Pane),{size:i(e)[1]},{default:I(()=>[y(o)]),_:1},8,["size"]),y(i(K.exports.Pane),{size:i(e)[2]},{default:I(()=>[y(d)]),_:1},8,["size"])]),_:1})]),y(f)],64)}}}),Fn=[{name:"index",path:"/",component:zn,props:!0}];var Ln=(n,e)=>{const t=n.__vccOpts||n;for(const[l,s]of e)t[l]=s;return t};const En={};function Pn(n,e){const t=de("RouterView");return u(),C(t)}var Rn=Ln(En,[["render",Pn]]);const _e=Ue(Rn),jn=We({history:He("/__vitest__/"),routes:Fn});_e.use(jn);_e.mount("#app");
